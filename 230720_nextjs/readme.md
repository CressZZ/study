# 정적 페이지의 경우 서버 컴포넌트를 쓰는 이유
## 질문
음 아니 나는 초기 렌더링의 상황을 물어 본게 아니야. 초기 렌더링일때는 너의 말이 맞지. 그런데 내가 a.html 에서 test.html 로 라우터를 이용해 이동했다고 하자. 
만약 test.html 이 클라이언트 컴포넌트였다면, a.html 에 진입하여 초기 렌더링이 진행될때, 자바스크립트가 test.html 에 대한 내용을 가지고 있을 것이고, 그렇다면 test.html에 진입할때 서버에 별도 요청없이 페이지를 렌더링 할수 있잖아.
그런데 서버 컴포넌트라면 a.html에서 test.html 로 이동할때 test.html 에 대한 내용을 서버에 네트워크 요청해서 가지고 와야 하는거 아니냐는 거지

## 답변
ChatGPT
아, 이해했습니다. 그럼 그 질문에 대한 답을 하겠습니다. 맞습니다, 말씀하신 대로 test.html이 클라이언트 컴포넌트라면, 초기 로딩에서 해당 페이지에 대한 JavaScript 코드가 클라이언트에 다운로드 되었을 것이고, a.html에서 test.html로 라우팅 할 때 추가적인 네트워크 요청 없이 페이지를 렌더링 할 수 있을 것입니다.

반면에, 만약 test.html이 서버 컴포넌트라면, a.html에서 test.html로 이동할 때 서버에 요청을 보내고 서버는 해당 컴포넌트를 렌더링한 결과를 클라이언트에 보내주어야 합니다. 그래서 이 경우 네트워크 요청이 발생하게 됩니다.

`그러나, 여기서 고려해야 할 것은 "test.html"이 클라이언트 컴포넌트인 경우, 초기 로딩에서 "a.html"과 "test.html"에 대한 모든 JavaScript를 다운로드해야 한다는 점입니다. 이것은 초기 로딩 시간을 길게 할 수 있습니다. 또한 이는 사용하지 않는 코드를 다운로드하는 것을 의미하기도 합니다. 이는 특히 대규모 앱에서는 문제가 될 수 있습니다.`

이러한 상황을 고려하면, 정적인 페이지나 큰 의존성을 가진 컴포넌트는 서버 컴포넌트로 만드는 것이 이점이 있을 수 있습니다. 또한, React Server Component는 결과를 스트림으로 보내기 때문에, 네트워크 요청의 느린 시작 시간을 상쇄하는 경우가 많습니다.

그래서 서버 컴포넌트와 클라이언트 컴포넌트 사이의 선택은 애플리케이션의 특성과 필요에 따라 달라질 수 있습니다. 일부 컴포넌트는 서버에서 렌더링하는 것이 좋을 수 있고, 다른 일부 컴포넌트는 클라이언트에서 렌더링하는 것이 좋을 수 있습니다.

## 질문
그럼 좀 다른 질문인데, test.html 을 서버 컴포넌트를 사용했다고 할때, 초기 렌더링이 아닌경우, 즉 라우터를 통해 이동했을때 서버에서 주는 건 test.html의 html 문서는 아닌거지?
필요한 내용만 줘서, 브라우저내에서 필요한 내용만 갈아끼우는 거지? 
일반적으로 페이지가 변경됬을때의 그 깜빡임 없이.

## 답변
맞습니다. 서버에서 보내는 것은 전체 HTML 문서가 아닙니다. 대신 서버에서는 특정 서버 컴포넌트의 렌더링 결과만 보내줍니다. 클라이언트에서는 이 결과를 받아서 이미 렌더링된 페이지의 해당 부분만 갱신합니다.

즉, "test.html"에서 필요한 컴포넌트의 부분만 서버에서 렌더링되어 HTML 형태로 전송됩니다. 그런 다음 클라이언트(브라우저)는 해당 HTML을 받아 이미 로딩된 페이지에 병합하는 방식으로 작동합니다.

이런 방식은 일반적인 페이지 리로드와는 달리 페이지 전체를 새로 불러오지 않아서, 페이지가 완전히 깜빡이며 리로드되는 것을 방지하며, 사용자 경험을 더욱 부드럽게 만들어줍니다.