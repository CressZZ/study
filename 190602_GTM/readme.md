**애널리틱스 아카데미**


---
# 매체/소스 
- 고객의 유입 경로 

## 매체 : 고객이 사이트에 들어온 방법
- organic 서치 : 자연검색, 지불 0, 네이버 오가닉 서치 
- cpc : 지불 광고, 유료검색
- 다이렉트 : 주소를 직접 치고 온다. `sns`링크를 클릭하여 들어온다. 충성고객등
- Refereral : 추천 링크. 어떤 웹사이트에서 링크를 클릭한다. 
- social : 유명한 소셜네트워크 (네이버 이메일, 네이버 블로그, 이런건 소셜로 뽑아 준다.)
- affliates : 전자상거래 관련인데 우리나라는 관련 없음
- display : 배너광고 단, 구글네트워크 디스플레이만 잡는다. 모비온, 네이버 광고 같은건 Referal로 잡는다. 만약 이것도 display로 잡고 싶으면 별도로 설정해야 한다. 

*http -> https 로 가면 고객 이탈이 된다.*
*https -> http 로 가면 고객 유입인데, 유입경로를 모른다.*

## 소스 : 고객을 획득하는 출처
- 네이버, 다음, 구글 전부 organic 서치가 될수 있다. 즉, organic서치 중에서 고객을 획득하는 출처를 정한다. 

## 세그먼트 (유저를 저장한다!)
- 즉, 고객을 분류하는건데, 분류하고 세그먼트로 저장하고 이사람들을 대상으로 `리타게팅` 한다. 
- 세그먼트는 처음 만들어 놓으면 해당 세그먼트에 데이터가 쌓이는 개념이다. 

## 채널 설정 (매체/소스)
- 개인 계정에서 -> 보기 설정 -> 채널 설정 -> 채널 그룹
- 매체/소스로 나누어 논게 채널이다. 
- 단 채널에는 9개가 있다. 
- 즉, 이미 정해진게 아닌 것은 채널이아니다. (페이스북 페이지 같은거)
- 이런 경우를 위해 utm태그를 사용하여 분석 가능하게 한다. 
- 그리고 이러한 utm태그로 얻는 데이터를 다시 채널로 바꿔야 한다. 

### utm 태그 (utm-source, utm-medium, utm-name)
- 만약 우리가 캡페인을 하는데, 여러 페이지에서 캡페인을 한다고 했을때, 
- 어떤 페이지에서 유저가 들어왔는지 모른다. 
- 각기 드른 4개의 페이스북 페이지에서 캠페인을 진행하게 됬을때, 
- GA는 `매체: 소셜`, `소스: 패북`  으로 동일하게 찍힐텐데...
- 이걸 구별하기 위해 각기 다른 url을 각기 다른 페북페이지에 링크로 줘야 한다. 

#### utm-source 
- 페북페이지 A

#### utm-medium (매체)
- 이메일,소셜 등

#### utm-name
- 여름 할인 

#### utm-souce, utm-medium, utm-name
- url : naver.com
- source : facebook_page_A
- medium : social
- name : summer_sale

#### 수동태그, 자동태그
- 수동태그 : 일일이 url 을 만들어서 적용해야 한다. 
- 자동캐그 : GDN 같은경우는 그냥 알아서 utm 태그를 만들어 준다?


## 직접 전환 매체 / 지원 전환 매체 
### 지원 전환 매체
- 전환 > 다채널 유입경로 > 인기 전환 경로 
- 전환 > 다채널 유입경로 > 지원 전환수  


## 페이스북 광고의 경우
### 캠페인 (목적, 리타케팅 대상을 선정)
- `노출, 도달` : 지원 전환에 목적이 가깝다.
  - 예를 들면 영상 광고를 10초 이상 본사람에게는 전환목적용 광고를 보여 준다.
- `유입` : 사이트에 들어온 사람들을 대상으로 비슷한 유저를 추측하여 리타게팅 한다. 
  - 예를 들면 `샤브샤브`를 검색 했을 경우, 이는 지원 광고 목적이기 때문에, `채선당`이란 검색결과와 함께 `브랜드 소개, 후기`등을 보여준다
- `전환` : 구매한 사람들을 대상으로 비슷한 유저를 추측하여 리타게팅 한다. 
  - 예을 들면 `채선당`이라고 검색 했을 경우, 이 유저는 `직접 전한`대상이기 때문에 `파격세일`등의 직접전환 목적의 문구를 보여준다. 

### 세트


### 광고 컨텐츠


## 브랜드 용어 입력
- 내가 생각하기에 브랜드 광고라고 생각하는거 / 나의 브랜드라고 생각되는것
  - 맥모닝, 맥딜리버리, 맥토디,
- 키워드 광고에 등록되어 있어야 한다. 
### Branded Paid Search (채널에 추가 된다.)
- 브랜드 키워드
### Generic Paid Search (채널에 추가 된다.)
- 브랜드 키워드를 제외한 나머지 키워드

## 측정기준, 측정항목
- 초록색 : 측정기준 / 드릴다운
- 파란색 : 측정항목 / 나열


---
# 구글 태그 메니저
## GA와 GTM의 차이 
### GA
- 계정 > 속성 > 보기
- 리포트 툴
### GTM 
- 계정 > 컨테이너(웹페이지?) > 태그(명령) > 트리거(이벤트 발생 원인) > 변수(트리거가 적용되는 요소)
- 리포트 툴이 아님 

## Flow
유저 클릭 -> GTM -> GA -> 관리자 보고서


## 태그를 세팅한다.  `신청하기` 버튼에 태그를 단다
### 변수설정
- 기본제공 변수 > 구성

### 트리거 설정
- 트리거 > 트리거 구성 > 트리거 새로 만들기 
- `모든요소추적` : 화면에 `모든 요소`를 추적
- `일부클릭` : 클릭 이벤트 바인딩할 `특정 요소` 설정. 설정할 수 있는 조건은 위에서 설정한 변수이다.

### 태그 설정 (GTM에서 GA에 정보를 보낸다.)
- 트리거 선택
- 태그 구성: 태그유형(GA), 추적유형(이벤트 || 페이지), 등등

## GA에서 GTM이 보낸 이벤트를 목표로 설정한다. 
- 목표는 20개만 만들 수 있으니까, 전부 이벤트로 만들 수는 없다. 

## GA에서 GTM이 보낸 이벤트를 세그먼트로 저장한다. 
- 목표로 저장할수 없더라도 세그먼트로는 저장해야 한다. 

### GA > 설정 > 보기 > 세그먼트 > 고급, 조건
- 조건에 페이지뷰 이벤트, 클릭이벤트 등을 설정 하여 특정 유저만 하나의 세그먼트로 저장 할 수있다. 

## GTM 맞춤 태그
- GTM에서 태그 > 새로만들기 > 맞춤 태그 + 모든페이지 로 만들면 
- GA의 추적 코드를 설정하면, 페이지뷰를 모두 추적한다. 
- 심지어 facebook fixel도 집어 넣을 수 있다. 
- 또한 Google Optimizer 등도 집어 넣을 수 있다. 
- 즉 추적 코드를 태그매니저로 넣을 수 있다는 것이다. 

## GTM 트리거 구성 
- `유튜브 동영상` 트리거 등을 통해 페이지에 있는 모든 동영상에 대한(일부 동영상만 설정하면 특정 통영상만 잡는다) 트리거가 생성된다. 
- `스크롤깊이` 등의 트리거도 있어서 얼마나 스크롤 했는냐에 때한 트리거도 잡을 수 있다. 
- `양식 폼` 이라는 트리거를 통해 `클릭` 했는데 폼제출이 안됬을 경우도 잡을 수 있다. 

# Google OPtimize
- AB 테스트 가능 

# Facebook 소재 테스트
- 하나의 광고에 여러가지 소재를 썼을때, 어떤 소재가 더 목표달성율이 좋은지 판단한다. 
  
# 정규 표현식


# 190516
# GTM 
## Flow
### 1 Website 
- GTM이 데이터를 뽑아 온다. 
### 2 Container
- GTM이 뽑은 데이터를 저장한다. 
### 3 Platform (Conversion tracking / Remarketing / Visitor Analytics)
- 데이터를 활용하여 사용한다. 
#### Conversion tracking
- 전환율을 추적하여 전환한 사람들에게 광고를 보낸다.  
#### Remarketing
- 전환은 안했지만, 장바구니에 담고 그냥 이탈한 등의 잠재고객에게 광고를 보낸다. 
- 웹사이트에서 특정행동을 한 사람들을 대상.
- 장바구니에 도착한다 -> 장바구니에 도착한 사람들을 모아논다. -> 그 사람들에게 광고한다.
#### Visitor Analytics
- 사용자 행동 분석
- 상세페이지에 들어와서 스크롤을 얼마나 하였는가 등.
- 스크롤 이벤트 잡는다 -> 스크롤 이벤트 한사람, 한내용을 저장 한다. -> 분석툴 (GA)에 보낸다. 

## GTM Workspace
- 작업공간
### TAG, Trigger, Variables
- TAG : **박수를 쳐라** / 우리 GA 계정, Google Ads, 페이스북 광고 관리자로  데이터를 보내라 
- Trigger : 문을 열고 들어오면 / 트레픽이 들어오면 **가장중요하다**
- Variables : 빨간모자를 쓴 사람이 / 장바구니 페이지에

## GTM Versions
- 작업 내용이 히스토리 형식으로 저장된다.
## Admin
- 컨테이너 기본공간을 다시 볼 수 있고. 
- 동료들을 관리 할 수 있다. 

## Facebook fixel
### Facebook 기본 픽셀
- 어느 페이지가 가든 모든 트레픽 정보를 페이스북 계정에 보내라

# 190523
## GTM 만들어 보기
### 변수 만들기
- 기본제공 변수 : Scroll Depth Threshold

### 트리거 만들기
- 트리거 유형: 스크롤 깊이
- 세로스크롤 깊이 -> 비율 -> 24, 50, 75, 99
- 일부페이지 => 페이지 url

### 태그만들기
- 유형 : GA
- 카테고리와 액션에 동적 변수를 넣을 수 있다. (옆에 블럭표시)

### 개시하기

## 유튜브 GTM만들기
### 변수설정

### 트리거 설정
- 트리거 유형 : 유튜브 동영상
- 캡처: 시작 (시작하면 이벤트가 잡힌다.), 완료 (완료하면 이벤트가 잡힌다.), 진행율 (비율에 따라 이벤트가 잡힌다.) 트리거가 파이어링 된다.
- 일부 영상 / 전체영상

### 태그설정
- GA로 보낼때 액션과 라벨등을 동적변수를 넣는다.(플레이 시긴등)

## 맞춤 자바스크립트로 만든 변수를 태그에 설정 하기
### 변수설정
- 맞춤자바스크립트로 만든다.
- 익명함수를 하나 만들고 필요한 내용을 리턴 값으로 준다. (예: document.querySelector('.test')[0])

### 트리거 설정
- 클릭 트리거를 그냥 노멀하게 만든다.

### 태그설정
- 액션값 혹은 라벨값에 동적으로 맞춤변수를 집어 넣는다. 
-